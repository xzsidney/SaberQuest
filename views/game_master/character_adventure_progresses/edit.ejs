<%- include('../../partials/header/header.ejs'); %>
 

<body class="fundo-container">
  <%- include('../../partials/menu/userMenu.ejs'); %>
  <div class="container text-center">
    <div class="row align-items-start">
      <div class="col-md-2">&nbsp;</div>
      <div class="col-md-8">
        
       <div class="container mt-5">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">Editar Progresso</h4>
    </div>
    <div class="card-body">
      <form action="/character-adventure-progresses/<%= progress.id %>" method="POST">
        <input type="hidden" name="_method" value="PUT">
        <div class="form-group">
          <label for="characterId">Personagem</label>
          <select name="characterId" id="characterId" class="form-control">
            <% characters.forEach(character => { %>
              <option value="<%= character.id %>" <%= progress.characterId == character.id ? 'selected' : '' %>><%= character.name %></option>
            <% }) %>
          </select>
        </div>
        <div class="form-group">
          <label for="adventureId">Aventura</label>
          <select name="adventureId" id="adventureId" class="form-control">
            <% adventures.forEach(adventure => { %>
              <option value="<%= adventure.id %>" <%= progress.adventureId == adventure.id ? 'selected' : '' %>><%= adventure.name %></option>
            <% }) %>
          </select>
        </div>
        <div class="form-group">
          <label for="adventureAttempts">Tentativas</label>
          <input type="number" class="form-control" id="adventureAttempts" name="adventureAttempts" value="<%= progress.adventureAttempts %>" required>
        </div>
        <div class="form-group">
          <label for="adventureCompleted">Aventura Concluída</label>
          <select name="adventureCompleted" id="adventureCompleted" class="form-control">
            <option value="true" <%= progress.adventureCompleted ? 'selected' : '' %>>Sim</option>
            <option value="false" <%= !progress.adventureCompleted ? 'selected' : '' %>>Não</option>
          </select>
        </div>
        <div class="form-group">
          <label for="startDate">Data de Início</label>
          <input type="date" class="form-control" id="startDate" name="startDate" value="<%= progress.startDate ? progress.startDate.toISOString().split('T')[0] : '' %>" required>
        </div>
        <div class="form-group">
          <label for="endDate">Data de Fim</label>
          <input type="date" class="form-control" id="endDate" name="endDate" value="<%= progress.endDate ? progress.endDate.toISOString().split('T')[0] : '' %>">
        </div>
        <button type="submit" class="btn btn-success">Atualizar Progresso</button>
      </form>
    </div>
  </div>
</div>

        
      </div>
      <div class="col-md-2">&nbsp;</div>
    </div>
  </div>

  <%- include('../../partials/footer/footer.ejs'); %>
</body>
