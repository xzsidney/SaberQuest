<%- include('../../partials/header/header.ejs'); %>
 

<body class="fundo-container">
  <%- include('../../partials/menu/userMenu.ejs'); %>
  <div class="container text-center">
    <div class="row align-items-start">
      <div class="col-md-2">&nbsp;</div>
      <div class="col-md-8">
        
        <div class="container mt-5">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0">Progresso dos Personagens nas Aventuras</h4>
    </div>
    <div class="card-body">
      <a href="/character-adventure-progresses/new" class="btn btn-success mb-3">Criar Novo Progresso</a>
      
      <div class="list-group">
        <% progresses.forEach(progress => { %>
          <div class="list-group-item">
            <h5>
              <strong>Personagem:</strong> <%= progress.character ? progress.character.name : 'Desconhecido' %>
            </h5>
            <p>
              <strong>Aventura:</strong> <%= progress.adventure ? progress.adventure.name : 'Desconhecida' %> — Dificuldade: <%= progress.adventure ? progress.adventure.difficulty : '-' %>
            </p>
            <p>
              <strong>Ação Atual:</strong> <%= progress.action ? progress.action.name : 'Nenhuma' %><br>
              <strong>Aventura Concluída:</strong> <%= progress.adventureCompleted ? 'Sim' : 'Não' %><br>
              <strong>Ações Concluídas:</strong> <%= progress.actionCompleted ? 'Sim' : 'Não' %><br>
              <strong>Tentativas:</strong> <%= progress.adventureAttempts %><br>
              <strong>Início:</strong> <%= progress.startDate ? progress.startDate.toLocaleDateString() : '-' %><br>
              <strong>Fim:</strong> <%= progress.endDate ? progress.endDate.toLocaleDateString() : '-' %>
            </p>
            <a href="/character-adventure-progresses/<%= progress.id %>" class="btn btn-info btn-sm">Ver Detalhes</a>
            <a href="/character-adventure-progresses/<%= progress.id %>/edit" class="btn btn-warning btn-sm">Editar</a>
            <form action="/character-adventure-progresses/<%= progress.id %>/delete" method="POST" style="display: inline;">
              <button type="submit" class="btn btn-danger btn-sm">Deletar</button>
            </form>
          </div>
        <% }) %>
      </div>
    </div>
  </div>
</div>

         
      </div>
      <div class="col-md-2">&nbsp;</div>
    </div>
  </div>

  <%- include('../../partials/footer/footer.ejs'); %>
</body>
